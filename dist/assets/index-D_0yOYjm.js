import"./game-Ce-Ehi3D.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class t{constructor(){this.currentSlide=0,this.totalSlides=5,this.wheelTimeout=null,this.touchStartX=0,this.touchStartY=0,this.touchEndX=0,this.touchEndY=0,this.isMobile=window.innerWidth<=768,this.init()}init(){this.initViewportHeight(),this.initCursor(),this.initParticles(),this.initSlider(),this.initTouchSwipe(),this.initThemeSwitcher(),this.initFloatingMenu(),this.initGameModal(),this.initAgeCounter(),this.initResizeHandler(),this.initTypewriter(),this.initTiltEffect(),this.initEmailCopy(),this.unregisterServiceWorker()}unregisterServiceWorker(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)e.unregister()})}initEmailCopy(){document.querySelectorAll('a[href^="mailto:"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const i=t.getAttribute("href").replace("mailto:","");navigator.clipboard.writeText(i).then(()=>{this.showToast("Email copied to clipboard!")}).catch(e=>{console.error("Failed to copy email: ",e),window.location.href=t.href})})})}showToast(t){const e=document.createElement("div");e.className="toast-notification",e.textContent=t,document.body.appendChild(e),setTimeout(()=>e.classList.add("show"),10),setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>e.remove(),300)},3e3)}initTiltEffect(){if(this.isMobile)return;document.querySelectorAll(".project-card, .project-card-horizontal, .tool-category").forEach(t=>{t.addEventListener("mousemove",e=>{const i=t.getBoundingClientRect(),r=e.clientX-i.left,n=e.clientY-i.top,o=i.width/2,s=i.height/2,c=(n-s)/s*-5,a=(r-o)/o*5;t.style.transform=`perspective(1000px) rotateX(${c}deg) rotateY(${a}deg) scale3d(1.02, 1.02, 1.02)`}),t.addEventListener("mouseleave",()=>{t.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)"})})}initViewportHeight(){const t=()=>{const t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)};t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",()=>{setTimeout(t,100)})}initResizeHandler(){let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{this.isMobile=window.innerWidth<=768},100)})}initAgeCounter(){const t=document.getElementById("ageDisplay");if(!t)return;const e=new Date(2010,0,29,19,10,0,0),i=()=>{const i=(new Date-e)/315576e5;t.textContent=i.toFixed(9)};i(),setInterval(i,50)}initCursor(){if("ontouchstart"in window||navigator.maxTouchPoints>0)return;const t=document.querySelector("[data-cursor-dot]"),e=document.querySelector("[data-cursor-outline]");if(!t||!e)return;let i=window.innerWidth/2,r=window.innerHeight/2;window.addEventListener("mousemove",function(t){i=t.clientX,r=t.clientY}),function n(){t.style.left=`${i}px`,t.style.top=`${r}px`,t.style.opacity="1",e.style.left=`${i}px`,e.style.top=`${r}px`,e.style.opacity="1",requestAnimationFrame(n)}();document.querySelectorAll(".magnetic").forEach(t=>{t.addEventListener("mousemove",e=>{const i=t.getBoundingClientRect(),r=e.clientX-i.left-i.width/2,n=e.clientY-i.top-i.height/2;t.style.transform=`translate(${.3*r}px, ${.5*n}px)`}),t.addEventListener("mouseleave",()=>{t.style.transform="translate(0px, 0px)"})})}initParticles(){const t=document.getElementById("particles");if(!t)return;const e=this.isMobile?15:30;for(let i=0;i<e;i++){const e=document.createElement("div");e.classList.add("particle");const i=4*Math.random();e.style.width=i+"px",e.style.height=i+"px",e.style.left=100*Math.random()+"vw",e.style.top=100*Math.random()+"vh",e.style.opacity=.5*Math.random(),t.appendChild(e),gsap.to(e,{y:100*Math.random()-50,x:100*Math.random()-50,duration:10+20*Math.random(),repeat:-1,yoyo:!0,ease:"sine.inOut"})}}initTypewriter(){const t=["Dev","Designer","Creator"];let e=0,i=0,r=!1;const n=document.querySelector(".typewriter-text");if(!n)return;const o=()=>{const s=t[e];r?(n.textContent=s.substring(0,i-1),i--):(n.textContent=s.substring(0,i+1),i++);let c=r?50:100;r||i!==s.length?r&&0===i&&(r=!1,e=(e+1)%t.length,c=500):(c=2e3,r=!0),setTimeout(o,c)};setTimeout(o,1e3)}initSlider(){if(this.track=document.getElementById("slider-track"),this.dots=document.querySelectorAll(".dot"),this.progressBar=document.getElementById("progressBar"),!this.track)return;const t=document.getElementById("seeWorkBtn");t&&t.addEventListener("click",()=>{this.currentSlide=3,this.updateSlider()});const e=document.getElementById("nextBtn"),i=document.getElementById("prevBtn");e&&(e.onclick=()=>{this.currentSlide<this.totalSlides-1&&(this.currentSlide++,this.updateSlider())}),i&&(i.onclick=()=>{this.currentSlide>0&&(this.currentSlide--,this.updateSlider())}),this.dots.forEach((t,e)=>{t.onclick=()=>{this.currentSlide=e,this.updateSlider()}}),document.addEventListener("wheel",t=>{this.isMobile||(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(()=>{t.deltaY>0&&this.currentSlide<this.totalSlides-1?this.currentSlide++:t.deltaY<0&&this.currentSlide>0&&this.currentSlide--,this.updateSlider()},50))}),document.addEventListener("keydown",t=>{"ArrowRight"===t.key||"ArrowDown"===t.key?this.currentSlide<this.totalSlides-1&&(this.currentSlide++,this.updateSlider()):"ArrowLeft"!==t.key&&"ArrowUp"!==t.key||this.currentSlide>0&&(this.currentSlide--,this.updateSlider())}),this.updateSlider()}initTouchSwipe(){const t=document.getElementById("slider-viewport");if(!t)return;let e=0,i=0,r=0,n=0;let o=0;t.addEventListener("touchstart",t=>{const r=t.changedTouches[0];e=r.pageX,i=r.pageY,o=(new Date).getTime()},{passive:!0}),t.addEventListener("touchend",t=>{const s=t.changedTouches[0];r=s.pageX-e,n=s.pageY-i;(new Date).getTime()-o<=500&&Math.abs(r)>=50&&Math.abs(n)<=100&&(r<0&&this.currentSlide<this.totalSlides-1?(this.currentSlide++,this.updateSlider()):r>0&&this.currentSlide>0&&(this.currentSlide--,this.updateSlider()))},{passive:!0})}updateSlider(){this.track.style.transform=`translateX(-${20*this.currentSlide}%)`,this.progressBar.style.width=this.currentSlide/(this.totalSlides-1)*100+"%",this.dots.forEach((t,e)=>t.classList.toggle("active",e===this.currentSlide)),this.runAnimations(this.currentSlide)}runAnimations(t){0===t&&gsap.fromTo(".gsap-hero",{y:50,opacity:0},{y:0,opacity:1,duration:.8,stagger:.2}),1===t&&(gsap.fromTo(".gsap-about-left",{x:-50,opacity:0},{x:0,opacity:1,duration:.8}),gsap.fromTo(".gsap-about-right",{x:50,opacity:0},{x:0,opacity:1,duration:.8,delay:.2})),3===t&&gsap.fromTo(".project-card",{y:50,opacity:0},{y:0,opacity:1,duration:.6,stagger:.1})}initThemeSwitcher(){const t=document.querySelector(".theme-switch");if(!t)return;const e=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",e),this.updateThemeIcon(e),t.addEventListener("click",()=>{const t="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),this.updateThemeIcon(t)})}updateThemeIcon(t){const e=document.querySelector(".theme-switch svg");e&&(e.innerHTML="dark"===t?'\n        <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>\n        <path d="M12 2V4M12 20V22M4.93 4.93L6.34 6.34M17.66 17.66L19.07 19.07M2 12H4M20 12H22M4.93 19.07L6.34 17.66M17.66 6.34L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n      ':'\n        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      ')}initFloatingMenu(){const t=document.querySelector('[data-action="resume"]');t&&t.addEventListener("click",()=>{console.log("Download resume")});const e=document.querySelector('[data-action="game"]');e&&e.addEventListener("click",()=>{const t=document.querySelector(".game-modal");t&&t.classList.add("active")})}initGameModal(){const t=document.querySelector(".game-modal"),e=document.querySelector(".game-close");t&&e&&(e.addEventListener("click",()=>{t.classList.remove("active")}),t.addEventListener("click",e=>{e.target===t&&t.classList.remove("active")}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&t.classList.remove("active")}))}}document.addEventListener("DOMContentLoaded",()=>{window.portfolio=new t});
